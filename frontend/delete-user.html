<!-- delete-user.html (modal fragment) -->
<div class="modal" id="modal-delete" style="display:none">
  <div class="box">
    <h3>تأكيد الحذف</h3>
    <p id="del-msg"></p>
    <p>اكتب كلمة <strong>حذف</strong> لتأكيد:</p>
    <input id="del-confirm" />
    <div style="margin-top:10px;text-align:left">
      <button id="del-ok" class="primary">تنفيذ الحذف</button>
      <button onclick="document.getElementById('modal-delete').style.display='none'" class="muted-btn">إلغاء</button>
    </div>
  </div>
</div>
<script>
  window.showDeleteModal = function(id,name){
    document.getElementById('modal-delete').style.display='flex';
    document.getElementById('del-msg').textContent = 'هل تريد حذف المستخدم: '+name+' ؟ هذه العملية لا تُسترجع.';
    document.getElementById('del-ok').onclick = async function(){
      if(document.getElementById('del-confirm').value!=='حذف'){alert('اكتب كلمة حذف');return}
      const res = await AdminAPI.apiFetch('/api/users/delete',{method:'POST',body:JSON.stringify({id})});
      if(res.success){alert('تم الحذف');location.reload()} else alert(res.error||'خطأ');
    }
  }
</script>